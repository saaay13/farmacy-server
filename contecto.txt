Farmacia 


Sistema de InformaciÃ³n para Farmacia (Multisucursales)
1. Alcance General del Sistema
â€¢	El sistema serÃ¡ utilizado por diferentes sucursales.
â€¢	La cantidad de productos serÃ¡ mayor a 2000.
â€¢	El sistema debe funcionar como un sistema de informaciÃ³n integral para la gestiÃ³n de farmacia.
________________________________________
2. GestiÃ³n de Productos e Inventario
â€¢	Los productos se registran con fecha de vencimiento por lote.
â€¢	Si un lote vence, el producto correspondiente se da de baja.
â€¢	La revisiÃ³n de stock se realiza de forma semanal (sÃ¡bado).
â€¢	El sistema debe bloquear completamente la venta de productos vencidos.
â€¢	Si el sistema falla y permite vender un producto vencido, la venta debe quedar registrada.
________________________________________
3. Control de Vencimientos
â€¢	Las alertas de productos prÃ³ximos a vencer deben generarse con 60 dÃ­as de anticipaciÃ³n.
â€¢	Los productos vencidos no pueden venderse.
â€¢	Las alertas de vencimiento deben ser:
o	Visuales
o	AcompaÃ±adas de reportes automÃ¡ticos
â€¢	Las alertas de vencimiento las reciben todos los usuarios internos del sistema, excepto el cliente.
InformaciÃ³n de la segunda entrevista:
â€¢	Los clientes no verÃ¡n alertas de productos prÃ³ximos a vencer.
â€¢	Los clientes solo podrÃ¡n ver productos que estÃ©n en buen estado (no prÃ³ximos a vencer ni vencidos).
________________________________________
4. Promociones y Descuentos
â€¢	Cuando un producto estÃ© prÃ³ximo a vencer, se deben realizar:
o	Promociones
o	Descuentos
â€¢	El sistema debe sugerir promociones para los productos prÃ³ximos a vencerse.
InformaciÃ³n de la segunda entrevista:
â€¢	Las promociones no se aplican automÃ¡ticamente.
â€¢	El administrador debe aprobar las promociones sugeridas por el sistema antes de que se apliquen.
________________________________________
5. ReposiciÃ³n de Medicamentos
â€¢	El sistema debe sugerir la reposiciÃ³n de medicamentos de acuerdo a:
o	Productos vencidos
o	Falta de productos (stock bajo)
________________________________________
6. Ventas
â€¢	En cada venta se debe registrar el cliente.
â€¢	Los medicamentos que requieren receta no pueden ser comprados directamente por el cliente; la venta es gestionada Ãºnicamente por personal autorizado de la farmacia.
â€¢	El sistema debe registrar el historial de ventas por producto.
â€¢	Si se vende un producto vencido por error del sistema, la venta debe quedar registrada.
InformaciÃ³n de la segunda entrevista â€“ Medicamentos con receta:
â€¢	Los clientes no pueden comprar medicamentos con receta directamente.
â€¢	Cuando el cliente intente comprar un medicamento con receta, el sistema debe mostrar un mensaje indicando que el medicamento requiere retiro en farmacia con receta.

7. Usuarios del Sistema y Accesos
Tipos de usuarios:
Administrador
â€¢	Control total del sistema.
â€¢	Aprueba promociones sugeridas por el sistema.
FarmacÃ©utico
â€¢	Revisar inventario.
â€¢	Realizar ventas.
Vendedor
â€¢	Ver productos.
â€¢	Vender productos.
Cliente
â€¢	Solo ve los productos en buen estado (sin receta y no vencidos).
â€¢	Puede ver que existen medicamentos con receta, pero no puede comprarlos directamente.
________________________________________
8. Reportes del Sistema
El sistema debe generar reportes de:
â€¢	Productos prÃ³ximos a vencer.
â€¢	Productos vencidos.
â€¢	Stock actual.
â€¢	Reportes automÃ¡ticos relacionados con vencimientos y control de inventario.
________________________________________
9. Alertas
â€¢	Las alertas deben ser:
o	Visuales
o	AutomÃ¡ticas
â€¢	Dirigidas a todos los usuarios internos del sistema.
â€¢	El cliente no recibe alertas de vencimiento.
DIAGRAMA DE CASOS DE USO
@startuml
skinparam linetype ortho
skinparam shadowing true
left to right direction

'--------------------------------------
' Actores
'--------------------------------------
actor Administrador #LightBlue
actor Farmaceutico #LightGreen
actor Vendedor #LightYellow
actor Cliente #LightPink
actor Sistema #LightGray

'--------------------------------------
' Sistema de InformaciÃ³n de Farmacia
'--------------------------------------
rectangle "Sistema de InformaciÃ³n de Farmacia" #F0F8FF {

    (Gestionar productos)
    (Gestionar inventario)
    (Aprobar promociones)
    (Ver reportes)
    (Gestionar usuarios)
    (Supervisar ventas)
    (Recibir alertas)

    (Revisar inventario)
    (Realizar venta)
    (Consultar historial de ventas)

    (Ver productos)
    (Registrar cliente en venta)

    (Ver productos en buen estado)
    (Ver medicamentos con receta)
    (Recibir mensaje de restriccion)

    (Generar alertas de vencimiento)
    (Bloquear venta de productos vencidos)
    (Registrar venta por error)
    (Sugerir promociones)
    (Sugerir reposicion)
    (Generar reportes automaticos)
    (Controlar fechas de vencimiento)
}

'--------------------------------------
' Relaciones actores - casos de uso
'--------------------------------------
Administrador --> (Gestionar productos)
Administrador --> (Gestionar inventario)
Administrador --> (Aprobar promociones)
Administrador --> (Ver reportes)
Administrador --> (Gestionar usuarios)
Administrador --> (Supervisar ventas)
Administrador --> (Recibir alertas)

Farmaceutico --> (Revisar inventario)
Farmaceutico --> (Realizar venta)
Farmaceutico --> (Consultar historial de ventas)
Farmaceutico --> (Recibir alertas)

Vendedor --> (Ver productos)
Vendedor --> (Realizar venta)
Vendedor --> (Registrar cliente en venta)
Vendedor --> (Recibir alertas)

Cliente --> (Ver productos en buen estado)
Cliente --> (Ver medicamentos con receta)
Cliente --> (Recibir mensaje de restriccion)

Sistema --> (Generar alertas de vencimiento)
Sistema --> (Bloquear venta de productos vencidos)
Sistema --> (Registrar venta por error)
Sistema --> (Sugerir promociones)
Sistema --> (Sugerir reposicion)
Sistema --> (Generar reportes automaticos)
Sistema --> (Controlar fechas de vencimiento)

'--------------------------------------
' Relaciones include / extend
'--------------------------------------
(Realizar venta) ..> (Bloquear venta de productos vencidos) : <<include>>
(Generar alertas de vencimiento) ..> (Generar reportes automaticos) : <<include>>
(Sugerir promociones) ..> (Aprobar promociones) : <<extend>>
@enduml

## TecnologÃ­as Utilizadas

- **React**: 19.2.0 - Biblioteca para interfaces de usuario
- **TypeScript**: 5.9.3 - Superset de JavaScript con tipado estÃ¡tico
- **Vite**: 7.2.4 - Herramienta de desarrollo rÃ¡pida y moderna
- **ESLint**: Para linting y calidad de cÃ³digo
- **CSS Modules**: Para estilos encapsulados por componente

#
## DocumentaciÃ³n del Sistema

- **[DocumentaciÃ³n de Clases](docs/classes.md)**: Detalle completo de todas las clases del sistema de farmacia, incluyendo atributos, mÃ©todos, relaciones y diagramas.
- **[Modelado de Clases](src/models/)**: ImplementaciÃ³n completa de las clases del dominio en TypeScript con mÃ©todos funcionales y relaciones.

## Modelado de Clases Implementado

Se ha implementado un modelo de clases completo en TypeScript siguiendo el patrÃ³n orientado a objetos, basado en la documentaciÃ³n de clases. Las clases incluyen:

## Reglas de Desarrollo

### PatrÃ³n Atomic Design
Organizamos los componentes siguiendo el patrÃ³n de Atomic Design:

- **Ãtomos**: Componentes bÃ¡sicos e indivisibles (Button, Input, Badge)
- **MolÃ©culas**: Combinaciones simples de Ã¡tomos (FormField, ProductItem)
- **Organismos**: Secciones complejas que agrupan molÃ©culas (ProductGrid)
- **PÃ¡ginas**: Vistas completas que combinan organismos (Products)

### Convenciones de CÃ³digo
- **Lenguaje**: TypeScript obligatorio para tipado fuerte
- **Componentes**: Funcionales con hooks de React
- **Estilos**: CSS Modules para encapsulamiento
- **Nombres**: En inglÃ©s para componentes, archivos y variables
- **Exportaciones**: Usar archivos `index.ts` para exportar componentes
- **Imports**: Importar tipos con `import type` cuando sea necesario

### Control de Calidad
- ESLint configurado para mantener estÃ¡ndares de cÃ³digo
- TypeScript para prevenir errores en tiempo de desarrollo
- CSS Modules para evitar conflictos de estilos

## CÃ³mo Ejecutar el Proyecto

### Prerrequisitos
- Node.js (versiÃ³n recomendada: 18+)
- npm o yarn

### InstalaciÃ³n
1. Clonar el repositorio
2. Instalar dependencias:
   ```bash
   npm install
   ```

### Desarrollo
Ejecutar el servidor de desarrollo:
```bash
npm run dev
```
La aplicaciÃ³n estarÃ¡ disponible en `http://localhost:5173`

### ConstrucciÃ³n
Construir para producciÃ³n:
```bash
npm run build
```

### Linting
Ejecutar el linter para verificar calidad de cÃ³digo:
```bash
npm run lint
```

### Preview de ProducciÃ³n
Vista previa de la build de producciÃ³n:
```bash
npm run preview

### ðŸ“ˆ MÃ©tricas de Ã‰xito
- âœ… Cobertura de funcionalidades del 100% segÃºn especificaciones
- âœ… Tests con cobertura >70%
- âœ… Performance aceptable (<2s carga inicial)
- âœ… Seguridad implementada correctamente
- âœ… DocumentaciÃ³n completa
- âœ… Sistema escalable y mantenible

Diagrama de Clases
@startuml
skinparam classAttributeIconSize 0
left to right direction

'========================
' CLASES
'========================

class SistemaFarmacia {
  - nombreSistema
  + generarAlertas()
  + sugerirPromociones()
  + sugerirReposicion()
  + bloquearVentaVencidos()
  + generarReportes()
}

class Sucursal {
  - idSucursal
  - nombre
  - direccion
  + registrarSucursal()
  + actualizarSucursal()
}

class Inventario {
  - idInventario
  - fechaRevision
  + revisarStock()
  + actualizarStock()
}

class Producto {
  - idProducto
  - nombre
  - requiereReceta
  # estado
  + verificarEstado()
  + actualizarProducto()
}

class Lote {
  - idLote
  - fechaVencimiento
  - cantidad
  + verificarVencimiento()
  + darDeBaja()
}

class Venta {
  - idVenta
  - fechaVenta
  - total
  - ventaPorError
  + registrarVenta()
  + calcularTotal()
}

class DetalleVenta {
  - idDetalle
  - cantidad
  - precioUnitario
  + calcularSubtotal()
}

class Usuario {
  - idUsuario
  - nombre
  # rol
  + iniciarSesion()
  + cerrarSesion()
}

class Administrador {
  + aprobarPromocion()
  + gestionarUsuarios()
}

class Farmaceutico {
  + revisarInventario()
}

class Vendedor {
  + realizarVenta()
}

class Cliente {
  - idCliente
  - nombre
  + verProductos()
}

class Promocion {
  - idPromocion
  - porcentajeDescuento
  # estado
  + sugerirPromocion()
  + aprobarPromocion()
}

class Alerta {
  - idAlerta
  - tipo
  - fechaGeneracion
  + generarAlerta()
}

class Reporte {
  - idReporte
  - tipo
  - fecha
  + generarReporte()
}

'========================
' HERENCIA
'========================

Administrador --|> Usuario
Farmaceutico --|> Usuario
Vendedor --|> Usuario

'========================
' COMPOSICIÃ“N
'========================

Sucursal *-- Inventario
Venta *-- DetalleVenta
Producto *-- Lote

'========================
' AGREGACIÃ“N
'========================

Inventario o-- Producto
Promocion o-- Producto

'========================
' ASOCIACIÃ“N
'========================

Venta --> Cliente
DetalleVenta --> Producto
Usuario --> Venta

'========================
' DEPENDENCIA
'========================

SistemaFarmacia ..> Alerta
SistemaFarmacia ..> Reporte
SistemaFarmacia ..> Promocion

@enduml


